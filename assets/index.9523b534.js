import{S as B,P as E,W as F,C as P,A as C,a as I,G as S,B as x,M as O,R as z,b as A,L as R}from"./vendor.7113ddc5.js";const G=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))w(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&w(g)}).observe(document,{childList:!0,subtree:!0});function M(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function w(t){if(t.ep)return;t.ep=!0;const n=M(t);fetch(t.href,n)}};G();const s=new B,l=new E(75,window.innerWidth/window.innerHeight,.1,1e3),b=new F({canvas:document.querySelector("#game")});b.setPixelRatio(window.devicePixelRatio);b.setSize(window.innerWidth,window.innerHeight);l.position.setZ(5);l.position.setY(2);document.addEventListener("keydown",H,!1);document.addEventListener("keyup",W,!1);let r="forward",m=.1;function H(e){e.keyCode=="65"?r="left":e.keyCode=="68"&&(r="right")}function W(e){(e.keyCode=="65"||e.keyCode=="68")&&(r="forward")}document.getElementById("left").addEventListener("touchstart",()=>{r="left"});document.getElementById("left").addEventListener("touchend",()=>{r="forward"});document.getElementById("right").addEventListener("touchstart",()=>{r="right"});document.getElementById("right").addEventListener("touchend",()=>{r="forward"});const j=new P(16514044);s.background=j;const q=new C(16777215),k=new I(16777215,4);k.position.set(5,5,5);s.add(q,k);const L=["./ambulance.glb","./delivery.glb","./deliveryFlat.glb","./firetruck.glb","./garbageTruck.glb","./hatchbackSports.glb","./police.glb","./race.glb","./raceFuture.glb","./sedan.glb","./sedanSports.glb","./suv.glb","./suvLuxury.glb","./taxi.glb","./tractor.glb","./tractorShovel.glb","./truck.glb","./truckFlat.glb","./van.glb"];let N=L[Math.floor(Math.random()*L.length)];new R;const y=new S;let a=0,o;const v=new x;y.load(N,function(e){o=e.scene,s.add(o),a++,a>2&&f()},void 0,function(e){console.error(e)});let i;const p=new x;y.load("./flag.glb",function(e){i=e.scene,s.add(i),i.position.set(Math.floor(Math.random()*10+1),0,Math.floor(Math.random()*10+1)),p.setFromObject(i),a++,a>2&&f()},void 0,function(e){console.error(e)});const d=new O(new z(.8,1,32),new A({color:14698052}));s.add(d);d.rotation.x=-(Math.PI/2);let c;y.load("./arrow.glb",function(e){c=e.scene,s.add(c),a++,a>2&&f()},void 0,function(e){console.error(e)});let h=0;function f(){requestAnimationFrame(f),v.setFromObject(o),r=="left"?o.rotation.y+=.05:r=="right"&&(o.rotation.y-=.05),d.position.x=i.position.x,d.position.z=i.position.z,c.lookAt(i.position.x,i.position.y,i.position.z),c.position.set(o.position.x,o.position.y,o.position.z),o.translateZ(-m),l.lookAt(o.position.x,o.position.y,o.position.z),v.intersectsBox(p)&&(i.position.set(Math.floor(Math.random()*50+1)-25,0,Math.floor(Math.random()*50+1)-25),p.setFromObject(i),h++,h>3&&(document.getElementById("instructions").style.display="none"),document.getElementById("score").innerText=h,m=m+.01),b.render(s,l)}
